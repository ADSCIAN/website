{{define "main"}}

<!-- Index head -->
{{with .Params.index_head}}
{{- $heroRaw := .image_src -}}
{{- $heroTrim := replaceRE "^/+" "" $heroRaw -}}
{{- $heroRoot := printf "/%s" $heroTrim -}}
{{- $heroURL := $heroRoot | relURL -}}
<section class="container">
  <div class="index_head" style="
                  height: 90vh;
                  min-height: 500px;
                  width: 100vw;
                  background: url('{{$heroURL}}') no-repeat center top;
                  background-size: cover;
                  position: relative;
                  margin-left: -50vw;
                  left: 50%;"
       aria-label="Landsat imagery courtesy of NASA Goddard Space Flight Center and U.S. Geological Survey"
  >
    <div class="container h-100">
      <div class="row h-100 align-items-center">

        <div class="col-6 text-left mh-100" style="color: #DBF0E9 !important;">
          <p class="lead text-lg-left display-6" data-aos="fade-zoom-in"
             data-aos-easing="ease-in-back"
             data-aos-delay="0" data-aos-duration="3000" data-aos-offset="0">
            {{ .text }}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
{{end}}

<!-- Index intro -->
{{ with .Params.index_intro}}
{{- $logoRaw := .logo_src -}}
{{- $logoTrim := replaceRE "^/+" "" $logoRaw -}}
{{- $logoRoot := printf "/%s" $logoTrim -}}
{{- $logoURL := $logoRoot | relURL -}}
<section class="container">
  <div id="slide_1"
       class="container d-flex px-0 px-lg-4 my-5 align-items-center"
       style="min-height: 60vh;">
    <div class="container text-center px-0">
      <img class="d-block mx-auto mb-4" src="{{$logoURL}}" loading="lazy"
           alt="ADSCIAN Logo"
           style="
                  filter: brightness(0) saturate(100%);
                  height: 100px;" data-aos="flip-left"
           data-aos-easing="ease-out-cubic" data-aos-duration="3000">
      <h1 class="display-5 fw-light mb-4">{{.title}}</h1>
      <p class="lead grey-text w-responsive mx-auto mb-1"
         style="text-align: center; width: 75%">
        {{.text | markdownify}}
      </p>
    </div>
  </div>
</section>
{{end}}

<!-- Index services -->
{{ with .Params.index_services}}
<section class="container">
  <div id="services"
       class="container-fluid py-5 px-0 px-sm-5 text-center aos-init aos-animate"
       data-aos="fade-up"
       data-aos-duration="3000">
    <div class="container">
      <h1 class="display-5">{{.title}}</h1>
      <p class="lead">{{.subtitle | markdownify}}</p>
      <div id="service-grid" class="container-sm px-1">
        <div class="row mx-0 mx-sm-3 my-3 py-5 px-sm-5 px-sm-0">
          {{ range .content }}
          {{- $iconRaw := .icon -}}
          {{- $iconTrim := replaceRE "^/+" "" $iconRaw -}}
          {{- $iconRoot := printf "/%s" $iconTrim -}}
          {{- $iconURL := $iconRoot | relURL -}}
          <div class="col-md-6">
            <div class="service-item">
              <img src="{{$iconURL}}" alt="{{ .service }} icon" class="img-fluid"
                   width='64px'>
              <h3>{{ .service }}</h3>
              <p>{{ .description | markdownify }}</p>
            </div>
          </div>
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</section>
{{end}}

{{ with .Params.about_us}}
<section id="about" class="container px-4 pb-5 mt-5">
  <div class="text-center">
    <h1 class="display-5 fw-light mb-4 lh-1">{{.title | markdownify }}</h1>
    <p class="lead grey-text text-center w-responsive mx-auto mb-4">{{.subtitle
      | markdownify }}</p>
  </div>
  <div class="text-start mb-4">
    <p class="grey-text w-responsive mx-auto mb-1"
       style="text-align: center; width: 75%">{{.text | markdownify }}</p>
  </div>
  <div class="container d-flex gap-5 justify-content-center mb-4">
    <div class="grid">
      <div class="row">
        {{ range .cards }}
        {{- $photoRaw := .photo -}}
        {{- $photoTrim := replaceRE "^/+" "" $photoRaw -}}
        {{- $photoRoot := printf "/%s" $photoTrim -}}
        {{- $photoURL := $photoRoot | relURL -}}
        <div class="col-12 col-sm-6">
          <div class="team-card mx-auto my-2" data-aos="{{.effect}}"
               data-aos-duration="{{.duration}}">
            <div class="team-pic">
              <img src="{{$photoURL}}">
            </div>
            <div class="team-content">
              <h3 class="title">{{.name}}</h3>
              <span class="post">{{.desc}}</span>
            </div>
            <ul class="team-social">
              <li>
                <a href="mailto:{{.mail}}" class="lar la-envelope"></a>
              </li>
              <li>
                <a href="{{.gs}}" class="lab la-google" target="_blank"></a>
              </li>
              <li>
                <a href="{{.in}}" class="lab la-linkedin-in"
                   target="_blank"></a>
              </li>
              <li>
                <a href="{{.rg}}" class="lab la-researchgate"></a>
              </li>
            </ul>
          </div>
        </div>
        {{end}}
      </div>
    </div>
  </div>
</section>
{{end}}

{{ with .Params.adscian_origin }}
<section class="container">
  <hr>
  <div class="container px-4 py-1 my-4">
    <div class="row flex-lg-row align-items-center g-3 py-1 mb-4">
      <div class="col-10 col-sm-8 col-lg-6">
        <h2 class="diplay-5 text-grey text-right p-3 lh-1 mb-3 text-lg-end"
            style="color: #324A51;">
          {{ .question | safeHTML }}
        </h2>
      </div>
      <div class="col-lg-6 border shadow-lg" style="
      background: linear-gradient(45deg, #19a552, #00a6bf);
  ">
        <p class="lead text-start p-3" style="color: #DBF0E9">
          {{ .answer | safeHTML }}
        </p>

      </div>
    </div>
  </div>

</section>
{{end}}

{{end}}
